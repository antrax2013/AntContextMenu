/*! AntColorPicker V1.11 Copyright (c) 2014 AntProduction http://antproduction.free.fr/AntColorPicker */
;(function(e){e.fn.AntColorPicker=function(t){function u(e,t,n){var r=n==undefined?"#":n;for(var i in t)e=e.replace(new RegExp(r+i+r,"g"),t[i]);return e}function a(e){var t="";var n="";var i=["00","33","66","99","CC","FF"];for(r=0;r<6;r++){for(g=0;g<6;g++){for(b=0;b<6;b++){n="#"+i[r]+i[g]+i[b];t+=u(e,{color:n})}}}return t}var n='<div id="AntColorPicker" class="AntColorPicker">';n+="<ul>";n+="#contentLineTemplate#";n+="</ul>";n+="#crossToClose#";n+="</div>";var s='<li><a name="#color#" rel="#color#" style="background:#color#;" title="#color#"></a></li>';var o='<a id="CloseColorPicker" class="AntColorPickerClose" title="#labelClose#">#labelClose#</a>';var f={builder:function(e,t,n,r){var i=a(e);i=t.replace("#contentLineTemplate#",i);return i},contentLineTemplate:s,contentTemplate:n,iconPath:"../public/images/antColorPicker/",labelClose:"Fermer",labelRAZColor:"RÃ©initialiser la valeur",largeurPalette:390,withRAZOption:true,withCrossToClose:true,zIndex:1500,$BGColorTarget:"#AntColorPicker"};var l=e.extend(true,f,t);return this.each(function(){function h(r){n=t.val();a=t.offset().left;if(a+l.largeurPalette>c)a-=l.largeurPalette;f=t.offset().top+t.outerHeight(true);r.stopImmediatePropagation();e(document).one("click",v);d()}function p(){var e=t.val().replace("#","").toLowerCase();var n=false;var r="";for(i=0;i<6;i+=2){r+=" "+e.substr(i,2).toString();n|=parseInt(e.substr(i,2),16)>128}if(!n)t.addClass("AntColorPicker-whiteFont");else t.removeClass("AntColorPicker-whiteFont")}function d(){v();if(typeof l.builder=="function"){if(l.withCrossToClose!=true){l.contentTemplate=l.contentTemplate.replace("#crossToClose#","")}else{l.contentTemplate=u(l.contentTemplate,{crossToClose:o,labelClose:l.labelClose})}var n=l.builder(l.contentLineTemplate,l.contentTemplate)}else throw"Error: the builder parameter must be a function.";e(n).css({position:"absolute",left:a,top:f,zIndex:l.zIndex,width:l.largeurPalette+"px"}).appendTo("body");e(l.$BGColorTarget).css("backgroundColor",t.val());e("#AntColorPicker a").hover(function(){e(l.$BGColorTarget).css("backgroundColor",e(this).attr("rel"))},function(){e(l.$BGColorTarget).css("backgroundColor",t.val())});e("#AntColorPicker a").not(".AntColorPickerClose .RaZAntColorPicker").click(function(){t.val(e(this).attr("rel"));t.css("backgroundColor",e(this).attr("rel"));p();v()});e("#AntColorPicker a").mouseover(function(){e(l.$BGColorTarget).css("backgroundColor",e(this).attr("rel"))});e("#AntColorPicker a.close").click(function(){v()})}function v(){e("#AntColorPicker").remove()}var t=e(this);var n="";t.attr("style","background-color:"+t.val());var r="RaZAntColorPicker_"+Math.floor(Math.random()*1e4);var s=l.withRAZOption==false?"":' <img id="'+r+'" title="'+l.labelRAZColor+'" style="height:'+t.css("height")+'" class="RaZAntColorPicker" src="'+l.iconPath+'vide.png" />';e(s).insertAfter(t);e("#"+r).bind("click",function(){t.val("");t.attr("style","background-color:"+t.val())});var a;var f;var c=e(document).width();t.focusin(function(e){h(e)});t.click(function(e){e.stopPropagation()});t.focusout(function(){var e=t.val();var r=new RegExp("^[#]?[0-9A-Fa-f]{3}([0-9A-Fa-f]{3})?$","g");if(!e.match(r))t.val(n);if(e.indexOf("#")==-1&&e!="")t.val("#"+t.val())})})}})(jQuery)